<div class="modal-body">
    <div class="pagetitle">
        <h1>Registrar Plan</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item">Plan</li>
                <li class="breadcrumb-item active">Registro</li>
            </ol>
        </nav>
    </div>

    <div class="card">
        <div class="card-body card-w-title">
            <ul class="nav nav-tabs nav-tabs-bordered d-flex" id="borderedTabJustified" role="tablist">
                <li class="nav-item flex-fill" role="presentation">
                    <button class="nav-link w-100 active t-bold" id="home-tab" data-bs-toggle="tab"
                        data-bs-target="#bordered-justified-home" type="button" role="tab" aria-controls="home"
                        aria-selected="true">Plan</button>
                </li>
                <li class="nav-item flex-fill" role="presentation">
                    <button class="nav-link w-100 t-bold" id="profile-tab" data-bs-toggle="tab"
                        data-bs-target="#bordered-justified-profile" type="button" role="tab" aria-controls="profile"
                        aria-selected="false" tabindex="-1">Exstras plan</button>
                </li>
            </ul>
            <div class="tab-content pt-2" id="borderedTabJustifiedContent">
                <div class="tab-pane fade show active" id="bordered-justified-home" role="tabpanel"
                    aria-labelledby="home-tab">
                    <form class="row g-3" autocomplete="off" [formGroup]="formPlan">
                        <div class="col-lg-12">
                            <label for="plan" class="form-label required">Plan:</label>
                            <input type="text" class="form-control" formControlName="plan" id="plan"
                                placeholder="### megas" (keypress)="soloTexto($event)" maxlength="10">
                        </div>
                        <div class="col-lg-12 d-flex justify-content-center v-align">
                            <div class="form-check form-switch">
                                <input type="checkbox" id="tipoPlan" formControlName="tipoPlan" class="form-check-input"
                                    (change)="cambioAnualidad()">
                                <label for="tipoPlan" class="form-check-label">Anualidad</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label for="mensualidad" class="form-label required">Mensualidad:</label>
                            <input type="text" class="form-control" formControlName="mensualidad" id="mensualidad"
                                placeholder="$ ###.##" (keypress)="soloNumeros($event)" maxlength="10">
                        </div>
                        <div class="col-md-6">
                            <label for="anualidad" class="form-label required">Anualidad:</label>
                            <input type="text" class="form-control" formControlName="anualidad" id="anualidad"
                                placeholder="$ ###.##" (keypress)="soloNumeros($event)" maxlength="10">
                        </div>
                        <div class="col-lg-6">
                            <label for="dispositivosSimultaneos" class="form-label required">Dispositivos
                                Simultaneos:</label>
                            <input type="text" class="form-control" formControlName="dispositivosSimultaneos"
                                id="dispositivosSimultaneos" placeholder="Dispositivos Simultaneos"
                                (keypress)="soloTexto($event)" maxlength="100">
                        </div>
                        <div class="col-lg-6">
                            <label for="estudioTrabajo" class="form-label required">Trabajo en casa simultaneo:</label>
                            <input type="text" class="form-control" formControlName="estudioTrabajo" id="estudioTrabajo"
                                placeholder="Trabajo en casa simultaneo" (keypress)="soloTexto($event)" maxlength="100">
                        </div>
                        <div class="col-lg-5">
                            <label for="reproduccionVideo" class="form-label required">Reproducción de video:</label>
                            <select formControlName="reproduccionVideo" id="reproduccionVideo"
                                class="form-select t-center">
                                <option value="" style="display: none; visibility: hidden;">Elija una calidad</option>
                                <option value="Estándar">Estándar</option>
                                <option value="Alta calidad">Alta calidad</option>
                                <option value="4K">4K</option>
                            </select>
                        </div>
                        <div class="col-lg-3 col-md-5 d-flex justify-content-center v-align">
                            <div class="form-check form-switch">
                                <br>
                                <input type="checkbox" id="juegoLinea" formControlName="juegoLinea"
                                    class="form-check-input">
                                <label for="juegoLinea" class="form-check-label">Juego en línea</label>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-7 d-flex justify-content-center v-align">
                            <div class="form-check form-switch">
                                <br>
                                <input type="checkbox" id="transmisiones" formControlName="transmisiones"
                                    class="form-check-input">
                                <label for="transmisiones" class="form-check-label">Transmisiones en vivo</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="tab-pane fade" id="bordered-justified-profile" role="tabpanel"
                    aria-labelledby="profile-tab">
                    <form class="row g-3" autocomplete="off" [formGroup]="formPlan">
                        <div class="col-lg-10">
                            <label for="caracteristica" class="form-label required">Característica:</label>
                            <select formControlName="caracteristica" id="caracteristica" class="form-control">
                                <option value="" style="display: none; visibility: hidden;">Elija una característica</option>
                                <option *ngFor="let caracteristica of caracteristicas" [value]="caracteristica.pkCatCaracteristica">{{caracteristica.nombre}}</option>
                            </select>
                        </div>
                        <div class="col-lg-2" *ngIf="!mostrarUpdate">
                            <label class="form-label">&nbsp;</label>
                            <button class="btn btn-primary form-control t-bold"
                                (click)="registrarCaracteristicaPlan()"><i class="bi bi-plus-circle"></i></button>
                        </div>
                        <div class="col-lg-1 col-6" *ngIf="mostrarUpdate">
                            <label class="form-label">&nbsp;</label>
                            <button class="btn btn-warning form-control t-bold"
                                (click)="actualizarCaracteristicaPlan()"><i class="bi bi-arrow-clockwise"></i></button>
                        </div>
                        <div class="col-lg-1 col-6" *ngIf="mostrarUpdate">
                            <label class="form-label">&nbsp;</label>
                            <button class="btn btn-danger form-control t-bold"
                                (click)="ocultarModificacionCaracteristica()"><i class="bi bi-x-lg"></i></button>
                        </div>

                        <app-datatable [columnasTabla]="columnasCaracteristicas" [tableConfig]="tableConfig"
                            [datosTabla]="listaCaracteristicas" (actionSelected)="realizarAccion($event)"></app-datatable>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal-footer" style="text-align: center;">
    <button type="button" class="btn btn-primary" (click)="registrarPlan()"><b>Registrar</b></button>
    <button type="button" class="btn btn-danger" (click)="cerrarModal()"><b>Cerrar</b></button>
</div>